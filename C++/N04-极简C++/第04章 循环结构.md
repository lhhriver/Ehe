

# 第1章  C++概述

# 第2章 处理数据

# 第3章 分支结构

# 第4章 循环结构

## 用for语句实现循环结构

### 问题的提出

#### **【例4-1】求1~100的累计和**

```c++
//文件:ex4_1.cpp
#include <iostream>
using namespace std;
int main()
{
    int i;
    int sum = 0;
    for (i = 1; i <= 100; i++) // i从1开始，每次加1，到超过100结束
    {
        sum += i; // 1, 3, 6, 10, .....
    }
    cout << "sum= " << sum << endl;
    return 0;
}
```

输出：

```
sum= 5050
```



### for语句的一般格式

#### **【例4-2】打印水仙花数**

```c++
//文件:ex4_2.cpp
#include <iostream>
using namespace std;
int main()
{
    int a, b, c, n;
    cout << "水仙花数有：\n";
    for (n = 100; n < 1000; n++) //也可以写成：n<=999   576
    {
        a = n / 100;              //百位上的数           5
        b = (n - a * 100) / 10;   //十位上的数           7
        c = n - a * 100 - b * 10; //个位上的数           6
        if (a * a * a + b * b * b + c * c * c == n)
        {
            cout << n << "  ";
        }
    }
    cout << endl;
    return 0;
}

```

输出：

```
水仙花数有：
153  370  371  407 
```

### 改变步长

#### **【例4-3】求100以内的偶数之和**

```c++
//文件:ex4_3.cpp
#include <iostream>
using namespace std;
int main()
{
    int i;
    int sum = 0;
    // for(i=2; i<=100; i+=2)	//i从2开始，每次加2，到超过100结束
    for (i = 100; i >= 2; i -= 2) //
    {
        sum += i;
    }
    cout << "sum= " << sum << endl;
    return 0;
}

```

输出：

```
sum= 2550
```

## 使用while语句与do···while语句实现循环结构

### while语句

#### **【例4-4】使用while语句求1~100的累加和**

```c++
//文件:ex4_4.cpp
#include <iostream>
using namespace std;
int main()
{
    int i = 1;
    int sum = 0;
    while (i <= 100) //要在循环前为i赋值
    {
        sum += i;
        i++;
    }
    cout << "sum= " << sum << endl;
    return 0;
}
```

输出：

```
sum= 5050
```

#### **【例4-5】求一个整教的阶乘**

```c++
//文件:ex4_5.cpp 
#include <iostream>
using namespace std;
int main()
{
	int i=1, n;
	int sum=1;		//累乘，要将sum初始化为1 	
	cout << "请输入一个整数：";
	cin >> n;		
    
 	while(i<=n)   
	{
		sum *= i;
		i++;
	}
    cout << "sum= " << sum <<endl;
	return 0; 
}

```

输出：

```
请输入一个整数：10
sum= 3628800
```

### do…while 语句

#### **【例4-6】用 dowhile 语向求1~10的累计和**

```c++
//文件:ex4_6.cpp
#include <iostream>
using namespace std;
int main()
{
    int i = 1;
    int sum = 0;
    do //先执行循环语句，然后在判断条件
    {
        sum += i;
        i++;
    } while (i <= 100);
    cout << "sum= " << sum << endl;
    return 0;
}
```

输出：

```
sum= 5050
```

### for 语句、while语句与do…while语句的比较

#### **【例4-7】循环次数事先不确定的循环**

```c++
//文件:ex4_7.cpp
#include <iostream>
using namespace std;
int main()
{
    int n;
    do //先执行循环语句，然后在判断条件
    {
        cout << "请输入一个整数：";
        cin >> n;
        if (n % 2 == 0)
        { //能被2整除
            cout << "是偶数" << endl;
        }
        else
        { //不能被2整除
            cout << "是奇数" << endl;
        }
    } while (n != 0); // n等于0时结束循环
    cout << "循环结束\n";
    return 0;
}

```

输出：

```
请输入一个整数：258
是偶数
请输入一个整数：285
是奇数
请输入一个整数：0
是偶数
循环结束
```

#### **【例4-8】使用for语句完成例4-7的功能**

```c++
//文件:ex4_8.cpp
#include <iostream>
using namespace std;
int main()
{
    int n;
    cout << "请输入一个整数：";
    cin >> n;
    
    for (; n != 0;)
    {
        if (n % 2 == 0)
        { //能被2整除
            cout << "是偶数" << endl;
        }
        else
        { //不能被2整除
            cout << "是奇数" << endl;
        }
        cout << "请输入一个整数：";
        cin >> n;
    }
    cout << "循环结束\n";
    return 0;
}

```

输出：

```
请输入一个整数：258
是偶数
请输入一个整数：285
是奇数
请输入一个整数：0
循环结束
```

## continue 语句、break 语句与 goo 语句

### continue语句

#### **【例4-9】求1~100中不能被3整除的整数之和**

```c++
//文件:ex4_9.cpp
#include <iostream>
using namespace std;
int main()
{
    int i;
    int sum = 0;
    for (i = 1; i <= 100; i++)
    {
        if (i % 3 == 0) //能被3整除
            continue;   //后面的语句不执行，立即执行for语句的第三个表达式i++
        sum += i;
    }
    cout << "sum= " << sum << endl;
}

```

输出：

```
sum= 3367
```

### break 语句

#### **【例4-10】从键盘输渝入一个整教，判断是否是素数**

```c++
//文件:ex4_10.cpp
#include <iostream>
using namespace std;
int main()
{
    int i, n;
    cout << "请输入一个整数：";
    cin >> n;
    for (i = 2; i <= n - 1; i++) //从2循环到n-1
    {
        if (n % i == 0) // n被i整除
            break;      //结束循环，此时i的值一定小于n
    }
    if (i == n) //如果因为i<=n-1不成立结束循环，则i的值是n
        cout << n << " 是素数!" << endl;
    else
        cout << n << " 不是素数!" << endl;
    return 0;
}

```

输出：

```
请输入一个整数：258
258 不是素数!
```

### goto语句

#### **【例4-11】使用 goto 语句求1~100的累加和**

```c++
//文件:ex4_11.cpp
#include <iostream>
using namespace std;
int main()
{
    int i = 1;
    int sum = 0;
loop:
    if (i <= 100)
    {
        sum += i;
        i++;
        goto loop; //转到loop：的后面开始执行
    }
    cout << "sum= " << sum << endl;
    return 0;
}

```

输出：

```
sum= 5050
```

## 循环语句的嵌套

### **【例4-12】输出乘法口诀表**

```c++
//文件:ex4_12.cpp
#include <iostream>
using namespace std;
int main()
{
    int i, j;
    for (i = 1; i <= 9; i++) //外层循环
    {
        for (j = 1; j <= i; j++) //内层循环
        {
            cout << j << "*" << i << "=" << i * j << "\t";
        }
        cout << endl;
    }
    return 0;
}

```

输出：

```
1*1=1
1*2=2   2*2=4
1*3=3   2*3=6   3*3=9
1*4=4   2*4=8   3*4=12  4*4=6
1*5=5   2*5=10  3*5=15  4*5=0       5*5=25
1*6=6   2*6=12  3*6=18  4*6=4       5*6=30  6*6=36
1*7=7   2*7=14  3*7=21  4*7=8       5*7=35  6*7=42  7*7=9
1*8=8   2*8=16  3*8=24  4*8=2       5*8=40  6*8=48  7*8=6       8*8=64
1*9=9   2*9=18  3*9=27  4*9=6       5*9=45  6*9=54  7*9=63       8*9=72  9*9=81
```

### **【例4-13】求水仙花数的另一种方法**

```c++
//文件:ex4_13.cpp
#include <iostream>
using namespace std;
int main()
{
    int a, b, c;
    cout << "水仙花数有：\n";
    for (a = 1; a <= 9; a++) //百位数
    {
        for (b = 0; b <= 9; b++) //十位数
        {
            for (c = 0; c <= 9; c++) //个位数
            {
                if (a * a * a + b * b * b + c * c * c == a * 100 + b * 10 + c)
                    cout << a * 100 + b * 10 + c << "\t";
            }
        }
    }
    cout << endl;
    return 0;
}

```

输出：

```
水仙花数有：
153     370     371     407
```

## 综合实例

### **【例4-14】找出50~100中的所有素数并输出**

```c++
//文件:ex4_14.cpp
#include <iostream>
#include <cmath>
using namespace std;
int main()
{
    int i, n, s;
    int count = 0;              //记录素数的个数
    
    for (n = 50; n <= 100; n++) // n从50到100，判断 n是否是素数
    {
        s = (int)sqrt(n);        //求n的平方根
        for (i = 2; i <= s; i++) //从2循环到s
        {
            if (n % i == 0)
                break;
        }
        
        if (i > s)
        { //表示不满足 i<=s 条件而结束循环
            cout << n << "   ";
            count++;
            if (count % 5 == 0) //每行输出5个数
                cout << endl;
        }
    }
    return 0;
}

```

输出：

```
53   59   61   67   71   
73   79   83   89   97
```

### **【例4-15】输出部分字符与ASCII码对照表**

```c++
//文件:ex4_15cpp
#include <iostream>
using namespace std;
int main()
{
    unsigned char c;
    int i = 0;
    for (c = 32; c < 128; c++) //如果c定仪为char型，则128超出范围
    {
        cout << c << " " << (int)c << "\t";
        i++;
        if (i % 10 == 0)
            cout << endl;
    }
    return 0;
}

```

输出：

```
  32    ! 33    " 34    # 35    $ 36    % 37    & 38    ' 39    ( 40    ) 41
* 42    + 43    , 44    - 45    . 46    / 47    0 48    1 49    2 50    3 51
4 52    5 53    6 54    7 55    8 56    9 57    : 58    ; 59    < 60    = 61
> 62    ? 63    @ 64    A 65    B 66    C 67    D 68    E 69    F 70    G 71
H 72    I 73    J 74    K 75    L 76    M 77    N 78    O 79    P 80    Q 81
R 82    S 83    T 84    U 85    V 86    W 87    X 88    Y 89    Z 90    [ 91
\ 92    ] 93    ^ 94    _ 95    ` 96    a 97    b 98    c 99    d 100   e 101
f 102   g 103   h 104   i 105   j 106   k 107   l 108   m 109   n 110   o 111
p 112   q 113   r 114   s 115   t 116   u 117   v 118   w 119   x 120   y 121
z 122   { 123   | 124   } 125   ~ 126    127
```

### **【例4-16】猴子吃桃问题**

```c++
//文件:ex4_16.cpp
#include <iostream>
using namespace std;
int main()
{
    int i, n = 1; // n桃子数，第10天有一个桃子
    for (i = 9; i >= 1; i--)
    { // 需要计算第9次天，第8天，...，第1天
        n = (n + 1) * 2;
    }
    cout << "第一天摘的桃子数是：" << n << endl;
    return 0;
}

```

输出：

```
第一天摘的桃子数是：1534
```

### **【例4-17】求n的近似值**

```c++
//文件:ex4_17.cpp
#include <iostream>
#include <cmath>
using namespace std;

int main()
{
    double t, pi;
    long int n, s;
    
    t = 1.0; // t保存各项的值，第一项是1
    n = 1;   // n保存分母的值
    s = 1;   // s保存正负号
    pi = 0.0;
    
    while (fabs(t) >= 1e-5) //循环求 π/4
    {
        pi = pi + t;
        n = n + 2; //每一项的分母是前一项加2
        s = -s;    //每一项改变一次正负号
        t = (double)(s) / n;
    }
    
    pi = pi * 4;
    cout << "pi=" << pi << endl;
    return 0;
}

```

输出：

```
pi=3.14157
```

## 小结

## 习题四



